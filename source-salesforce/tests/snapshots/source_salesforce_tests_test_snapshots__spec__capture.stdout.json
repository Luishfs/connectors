{
  "protocol": 3032023,
  "configSchema": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "additionalProperties": true,
    "properties": {
      "credentials": {
        "properties": {
          "auth_type": {
            "const": "Client",
            "default": "Client",
            "type": "string"
          },
          "client_id": {
            "airbyte_secret": true,
            "description": "Enter your Salesforce developer application's Client ID",
            "order": 2,
            "title": "Client ID",
            "type": "string"
          },
          "client_secret": {
            "airbyte_secret": true,
            "description": "Enter your Salesforce developer application's Client secret",
            "order": 3,
            "title": "Client Secret",
            "type": "string"
          },
          "refresh_token": {
            "airbyte_secret": true,
            "description": "Enter your application's Salesforce Refresh Token used to access your Salesforce account.",
            "order": 4,
            "title": "Refresh Token",
            "type": "string"
          }
        },
        "required": ["client_id", "client_secret", "refresh_token"],
        "type": "object",
        "x-oauth2-provider": "salesforce"
      },
      "is_sandbox": {
        "default": false,
        "description": "Toggle if you're using a <a href=\"https://help.salesforce.com/s/articleView?id=sf.deploy_sandboxes_parent.htm&type=5\">Salesforce Sandbox</a>",
        "order": 1,
        "title": "Sandbox",
        "type": "boolean"
      },
      "start_date": {
        "description": "Enter the date in the YYYY-MM-DD format. We will replicate the data added on and after this date. If this field is blank, we will replicate all data.",
        "examples": ["2021-07-25T00:00:00Z"],
        "format": "date",
        "order": 5,
        "pattern": "^([0-9]{4}-[0-9]{2}-[0-9]{2}(T[0-9]{2}:[0-9]{2}:[0-9]{2}Z)?)$",
        "title": "Start Date",
        "type": "string"
      },
      "streams_criteria": {
        "description": "Filter streams relevant to you",
        "items": {
          "properties": {
            "criteria": {
              "default": "contains",
              "enum": [
                "starts with",
                "ends with",
                "contains",
                "exacts",
                "starts not with",
                "ends not with",
                "not contains",
                "not exacts"
              ],
              "order": 1,
              "title": "Search criteria",
              "type": "string"
            },
            "value": { "order": 2, "title": "Search value", "type": "string" }
          },
          "required": ["criteria", "value"],
          "type": "object"
        },
        "order": 6,
        "title": "Filter Salesforce Objects",
        "type": "array"
      }
    },
    "required": ["credentials"],
    "title": "Salesforce Source Spec",
    "type": "object"
  },
  "resourceConfigSchema": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "ResourceSpec",
    "type": "object",
    "required": ["stream", "syncMode"],
    "properties": {
      "cursorField": {
        "type": ["array", "null"],
        "items": { "type": "string" }
      },
      "namespace": { "type": ["string", "null"] },
      "stream": { "type": "string" },
      "syncMode": { "type": "string", "enum": ["incremental", "full_refresh"] }
    }
  },
  "documentationUrl": "https://go.estuary.dev/AyWXIh",
  "oauth2": {
    "provider": "salesforce",
    "authUrlTemplate": "https://{{#config.is_sandbox}}test{{/config.is_sandbox}}{{^config.is_sandbox}}login{{/config.is_sandbox}}.salesforce.com/services/oauth2/authorize?client_id={{#urlencode}}{{{ client_id }}}{{/urlencode}}&redirect_uri={{#urlencode}}{{{ redirect_uri }}}{{/urlencode}}&response_type=code&state={{#urlencode}}{{{ state }}}{{/urlencode}}",
    "accessTokenUrlTemplate": "https://{{#config.is_sandbox}}test{{/config.is_sandbox}}{{^config.is_sandbox}}login{{/config.is_sandbox}}.salesforce.com/services/oauth2/token",
    "accessTokenBody": "grant_type=authorization_code&client_id={{#urlencode}}{{{ client_id }}}{{/urlencode}}&client_secret={{#urlencode}}{{{ client_secret }}}{{/urlencode}}&redirect_uri={{#urlencode}}{{{ redirect_uri }}}{{/urlencode}}&code={{#urlencode}}{{{ code }}}{{/urlencode}}",
    "accessTokenHeaders": {
      "content-type": "application/x-www-form-urlencoded"
    },
    "accessTokenResponseMap": { "refresh_token": "/refresh_token" }
  },
  "resourcePathPointers": ["/namespace", "/stream"]
}
